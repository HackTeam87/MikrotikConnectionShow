{% extends "base.html" %}
{% block content %}

<div class="row ">
{% for dev in device %}
    <div class="col-sm-12 col-md-4">
      <a href="/delete/device/{{dev.id}}" v-if="showModal">удалить</a>
      <a href="/info/{{dev.id}}">
  <div class="card">
    <div class="card-body">
      <img src="{{ url_for('static', filename='img/_router.png') }}" class="card-img-top" alt="...">
    <h5 class="card-title">{{dev.ip}}</h5>
    <h6 class="card-subtitle mb-2 text-muted">{{dev.name}}</h6>
</div>
</div>
</a>
</div>
{% endfor %}


<div class="col-sm-12 col-md-4">

  <div class="card">
    <form action="/add/device" method="post" enctype="multipart/form-data">
    <div class="card-header">
      <div class="d-grid gap-2">
      <button class="btn btn-outline-secondary" type="button" @click="modal_1()">Добавить устройство</button>
    </div>
    </div>
   
    <ul class="list-group list-group-flush" v-if="showModal">
      <li class="list-group-item">
      <div class="input-group mb-3">
        <span class="input-group-text">IP</span>
        <input type="text" class="form-control" placeholder="xxx.xxx.xxx.xxx" name="router_ip" required pattern="^([0-9]{1,3}\.){3}[0-9]{1,3}$">
        <span class="input-group-text">PORT</span>
        <input type="text" class="form-control"  name="router_port" value="22" required>
      </div>
    </li>

      <li class="list-group-item">
        <div class="input-group mb-3">
          <span class="input-group-text"><i class="fa-regular fa-address-card"></i></span>
          <input type="text" class="form-control" placeholder="описание" name="router_name">
          <span class="input-group-text">TIMEOUT</span>
          <input type="text" class="form-control"  name="router_timeout" value="90" required>
        </div>
      </li>


      <li class="list-group-item">
        <div class="input-group mb-3">
          <input type="text" class="form-control" placeholder="логин" name="router_login" required>
          <span class="input-group-text"><i class="fa-regular fa-address-card"></i></span>
        </div>
      </li>

      <li class="list-group-item">
        <div class="input-group mb-3">
          <input type="password" class="form-control" placeholder="пароль" name="router_passwd" required>
          <span class="input-group-text"><i class="fa-regular fa-address-card"></i></span>
        </div>
      </li>
    </ul>

    <div class="card-header" v-if="showModal">
    <div class="d-grid gap-2">
      <button class="btn btn-outline-secondary" type="submit">Сохранить</button>
    </div>
    </div>
  </form>
  </div>
</div>
</div>

{% endblock %}

